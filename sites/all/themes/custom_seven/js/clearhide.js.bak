(function($)
{
    jQuery(document).ready(function($)
    {
        // LAST NAME FIELD.
        var $lnamex = $(
            '#edit-field-last-name-override-und-0-value.text-full.form-text'
        );
        var $lcheckx = $(
            '#edit-field-override-last-name-und.form-checkbox');
        $lnamex.change(function()
        {
            $(this).data('lnoverride', $(this).val());
        });
        // This line grabs the initial val if a manual override is done and someone clicks the checkbox.
        $lnamex.change();
        $lcheckx.change(function()
        {
            var $lnamex = $(
                '#edit-field-last-name-override-und-0-value.text-full.form-text'
            );
            if ($(this).is(':checked'))
            {
                $lnamex.val($lnamex.data('lnoverride'));
            }
            else
            {
                $lnamex.val("");
            }
        });
        // PROFESSIONAL TITLE FIELD.
        var $proftitlex = $(
            '#edit-field-professional-title-overrid-und.form-text.form-autocomplete'
        );
        var $profcheckx = $(
            '#edit-field-override-professional-titl-und.form-checkbox'
        );
        $proftitlex.change(function()
        {
            $(this).data('proftitleoverride', $(this).val());
        });
        // This line grabs the initial val if a manual override is done and someone clicks the checkbox.
        $proftitlex.change();
        $profcheckx.change(function()
        {
            var $proftitlex = $(
                '#edit-field-professional-title-overrid-und.form-text.form-autocomplete'
            );
            if ($(this).is(':checked'))
            {
                $proftitlex.val($proftitlex.data(
                    'proftitleoverride'));
            }
            else
            {
                $proftitlex.val("");
            }
        });
        // PERSON TYPE OVERRIDE FIELD.
        //ONLY FIRE THIS IF THEY CLICK THE SAVE BUTTON.
        var $submitbutton = $('input#edit-submit.form-submit');
        $submitbutton.click(function()
        {
            var $personcheckx = $(
                '#edit-field-override-person-type-und.form-checkbox'
            );
            //Store these variables.
            var $adjfac = $(
                '#edit-field-person-type-override-und-200.form-checkbox'
            );
            var $facult = $(
                '#edit-field-person-type-override-und-1.form-checkbox'
            );
            var $staf = $(
                '#edit-field-person-type-override-und-2.form-checkbox'
            );
            var $studalum = $(
                '#edit-field-person-type-override-und-3.form-checkbox'
            );
            if ($($personcheckx).is(":not(:checked)"))
            {
                $adjfac.attr("checked", false);
                $facult.attr("checked", false);
                $staf.attr("checked", false);
                $studalum.attr("checked", false);
            }
            else
            {}
        });
        // PHONE NUMBER FIELD.
        var $phonenumb = $(
            '#edit-field-phone-override-und-0-value.text-full.form-text'
        );
        var $phonecheckx = $(
            '#edit-field-override-phone-und.form-checkbox');
        $phonenumb.change(function()
        {
            $(this).data('phonenumboverride', $(this).val());
        });
        // This line grabs the initial val if a manual override is done and someone clicks the checkbox.
        $phonenumb.change();
        $phonecheckx.change(function()
        {
            var $phonenumb = $(
                '#edit-field-phone-override-und-0-value.text-full.form-text'
            );
            if ($(this).is(':checked'))
            {
                $phonenumb.val($phonenumb.data(
                    'phonenumboverride'));
            }
            else
            {
                $phonenumb.val("");
            }
        });
        // FAX NUMBER FIELD.
        var $faxnumb = $(
            '#edit-field-fax-override-und-0-value.text-full.form-text'
        );
        var $faxcheckx = $(
            '#edit-field-override-fax-und.form-checkbox');
        $faxnumb.change(function()
        {
            $(this).data('faxnumboverride', $(this).val());
        });
        // This line grabs the initial val if a manual override is done and someone clicks the checkbox.
        $faxnumb.change();
        $faxcheckx.change(function()
        {
            var $faxnumb = $(
                '#edit-field-fax-override-und-0-value.text-full.form-text'
            );
            if ($(this).is(':checked'))
            {
                $faxnumb.val($faxnumb.data(
                    'faxnumboverride'));
            }
            else
            {
                $faxnumb.val("");
            }
        });
        // EMAIL FIELD.
        var $emailaddr = $(
            'input#edit-field-email-override-und-0-email.form-text'
        );
        var $emailcheckx = $(
            '#edit-field-override-email-und.form-checkbox');
        $emailaddr.change(function()
        {
            $(this).data('emailaddroverride', $(this).val());
        });
        // This line grabs the initial val if a manual override is done and someone clicks the checkbox.
        $emailaddr.change();
        $emailcheckx.change(function()
        {
            var $emailaddr = $(
                'input#edit-field-email-override-und-0-email.form-text'
            );
            if ($(this).is(':checked'))
            {
                $emailaddr.val($emailaddr.data(
                    'emailaddroverride'));
            }
            else
            {
                $emailaddr.val("");
            }
        });
        // OFFICE NUMBER FIELD.
        var $offnumb = $(
            'input#edit-field-office-number-override-und-0-value.text-full.form-text'
        );
        var $offnumbcheckx = $(
            '#edit-field-override-office-number-und.form-checkbox'
        );
        $offnumb.change(function()
        {
            $(this).data('offnumboverride', $(this).val());
        });
        // This line grabs the initial val if a manual override is done and someone clicks the checkbox.
        $offnumb.change();
        $offnumbcheckx.change(function()
        {
            var $offnumb = $(
                'input#edit-field-office-number-override-und-0-value.text-full.form-text'
            );
            if ($(this).is(':checked'))
            {
                $offnumb.val($offnumb.data(
                    'offnumboverride'));
            }
            else
            {
                $offnumb.val("");
            }
        });
        // ADDITIONAL DEPARTMENTS OVERRIDE FIELD.
        //ONLY FIRE THIS IF THEY CLICK THE SAVE BUTTON.
        var $submitbutton = $('input#edit-submit.form-submit');
        $submitbutton.click(function()
        {
            var $adddeptx = $(
                '#edit-field-add-additional-departments-und.form-checkbox'
            );
            var $adddepts = $(
                '#edit-field-additional-departments-und'
            );
            if ($($adddeptx).is(":not(:checked)"))
            {
                $adddepts.val('_none');
            }
            else
            {}
        });
        //SET VARS FOR OPTIONAL FORM ENTRY FIELDS.
        var $web = $('#edit-field-personal-website');
        var $advisee = $('#edit-field-advisees');
        var $adsupport = $('#edit-field-administrative-support-per');
        var $researcha = $('#edit-field-research-areas');
        var $hidefac = $('#edit-field-hide-from-faculty-rearch-g');
        var $hidedir = $('#edit-field-hide-from-directory-');
        var $pubs = $('#edit-field-selected-publications');
        var $admresp = $('#edit-field-administrative-responsibil');
        var $acadprog = $('#edit-field-academic-program');
        var $acadadv = $('#edit-field-academic-advisor');
        var $stuid = $('#edit-field-student-id');
        var $facsup = $('#edit-field-faulty-supported');

        //HIDE ALL OPTIONAL FORM ENTRY FIELDS.
        $web.hide();
        $advisee.hide();
        $adsupport.hide();
        $researcha.hide();
        $hidefac.hide();
        $hidedir.hide();
        $pubs.hide();
        $admresp.hide();
        $acadprog.hide();
        $acadadv.hide();
        $stuid.hide();
        $facsup.hide();


        //ONLY SHOW SPECIFIC FIELDS FOR CERTAIN ROLES.

        //Store these variables.
        var $persontype = $('#edit-field-person-type-und').val();
        var $adjfac = $(
            '#edit-field-person-type-override-und-200.form-checkbox'
        );
        var $facult = $(
            '#edit-field-person-type-override-und-1.form-checkbox'
        );
        var $staf = $(
            '#edit-field-person-type-override-und-2.form-checkbox'
        );
        var $studalum = $(
            '#edit-field-person-type-override-und-3.form-checkbox'
        );

        $adjfac.change(function()
        {
            if (($($adjfac).is(":checked")))
            {
                $web.show();
                $advisee.show();
                $adsupport.show();
                $researcha.show();
                $hidefac.show();
                $hidedir.show();
                $pubs.show();
            }
            else
            {
                $web.hide();
                $advisee.hide();
                $adsupport.hide();
                $researcha.hide();
                $hidefac.hide();
                $hidedir.hide();
                $pubs.hide();
            }
        });

        if (($(
            ".field.field-name-field-person-type.field-type-taxonomy-term-reference.field-label-above > div.field-items > div"
        ).text() == "Faculty") || ($($facult).is(":checked")))
        {
            $web.show();
            $advisee.show();
            $adsupport.show();
            $researcha.show();
            $hidefac.show();
            $hidedir.show();
            $pubs.show();
        }
        if (($(
            ".field.field-name-field-person-type.field-type-taxonomy-term-reference.field-label-above > div.field-items > div"
        ).text() == "Adjunct Faculty") || ($($adjfac).is(":checked"))) 
        {
            $web.show();
            $advisee.show();
            $adsupport.show();
            $researcha.show();
            $hidefac.show();
            $hidedir.show();
            $pubs.show();
        }

        $facult.change(function()
        {
           
            if (($($facult).is(":checked")))
            {
                $web.show();
                $advisee.show();
                $adsupport.show();
                $researcha.show();
                $hidefac.show();
                $hidedir.show();
                $pubs.show();
            }	

	 else 
            {
                $web.hide();
                $advisee.hide();
                $adsupport.hide();
                $researcha.hide();
                $hidefac.hide();
                $hidedir.hide();
                $pubs.hide();
            }
        });

        if (($(
            ".field.field-name-field-person-type.field-type-taxonomy-term-reference.field-label-above > div.field-items > div"
        ).text() == "Staff") || ($($staf).is(":checked")))
        {
            $admresp.show();
            $facsup.show();
        }

        $staf.change(function()
        {
            if ($($staf).is(":checked"))
            {
                $admresp.show();
                $facsup.show();
            }
            else
            {
                $admresp.hide();
                $facsup.hide();
            }
        });
        if (($(
            ".field.field-name-field-person-type.field-type-taxonomy-term-reference.field-label-above > div.field-items > div"
        ).text() == "Student/Alumni")|| ($($studalum).is(":checked")))
        {
            $acadprog.show();
            $acadprog.show();
        }

        $studalum.change(function()
        {
            if ($($studalum).is(":checked"))
            {
                $acadprog.show();
                $acadadv.show();
                $stuid.show();
            }
            else
            {
                $acadprog.hide();
                $acadadv.hide();
                $stuid.hide();
            }
        });

        // NOW WE CHECK THE DROPDOWN BOX FOR PEOPLE.
        var $label = $(
            ".field.field-name-field-person-type.field-type-taxonomy-term-reference.field-label-above > div.field-items > div"
        );

        // IF THE DROPDOWN IS SET TO A CERTAIN PERSON TYPE, DISABLE THAT OVERRIDE BOX.
        if (($label).text() == "Faculty")
        {
            $("input#edit-field-person-type-override-und-1").attr(
                "disabled", true);
            $(
                '#edit-field-person-type-override-und > div.form-item.form-type-checkbox.form-item-field-person-type-override-und-1 > label'
            ).html('Faculty <b>(Current Default)</b>');
        }
        if (($label).text() == "Adjunct Faculty")
        {
            $("input#edit-field-person-type-override-und-200").attr(
                "disabled", true);
            $(
                '#edit-field-person-type-override-und > div.form-item.form-type-checkbox.form-item-field-person-type-override-und-200 > label'
            ).html('Adjunct Faculty <b>(Current Default)</b>');
        }
        if (($label).text() == "Staff")
        {
            $("input#edit-field-person-type-override-und-2").attr(
                "disabled", true);
            $(
                '#edit-field-person-type-override-und > div.form-item.form-type-checkbox.form-item-field-person-type-override-und-2 > label'
            ).html('Staff <b>(Current Default)</b>');
        }
        if (($label).text() == "Alumni")
        {
            $("input#edit-field-person-type-override-und-3").attr(
                "disabled", true);
            $(
                '#edit-field-person-type-override-und > div.form-item.form-type-checkbox.form-item-field-person-type-override-und-3 > label'
            ).html('Student/Alumni <b>(Current Default)</b>');
        }
        if (($persontype == "1") || ($persontype == "200"))
        {
            $web.show();
            $advisee.show();
            $adsupport.show();
            $researcha.show();
            //				$hidefac.show();
            $hidedir.show();
            $pubs.show();
        }
        if ($persontype == "2")
        {
            $admresp.show();
            $facsup.show();
        }
        if ($persontype == "3")
        {
            $acadprog.show();
            $acadadv.show();
            $stuid.show();
        }
        //CALENDAR FIELDS
        // CALENDAR EVENT TITLE FIELD
        var $eventitlex = $(
            '#edit-field-title-override-und-0-value');
        var $titlecheckx = $('#edit-field-override-title-und');
        $eventitlex.change(function()
        {
            $(this).data('titletext', $(this).val());
        });
        // This line grabs the initial val if a manual override is done and someone clicks the checkbox.
        $eventitlex.change();
        $titlecheckx.change(function()
        {
            var $eventitlex = $(
                '#edit-field-title-override-und-0-value'
            );
            if ($(this).is(':checked'))
            {
                $eventitlex.val($eventitlex.data(
                    'titletext'));
            }
            else
            {
                $eventitlex.val("");
            }
        });
        // CALENDAR BODY FIELD
        var $eventbodyx = $('#edit-field-body-override-und-0-value');
        var $bodcheckx = $(
            '#edit-field-override-body-und.form-checkbox');
        $eventbodyx.change(function()
        {
            $(this).data('bodytext', $(this).val());
        });
        // This line grabs the initial val if a manual override is done and someone clicks the checkbox.
        $eventbodyx.change();
        $bodcheckx.change(function()
        {
            var $eventbodyx = $(
                '#edit-field-body-override-und-0-value'
            );
            if ($(this).is(':checked'))
            {
                $eventbodyx.val($eventbodyx.data('bodytext'));
            }
            else
            {
                $eventbodyx.val("");
            }
        });
        // END OF ALL FUNCTIONS. WRAP.
    });
})(jQuery);
